<!DOCTYPE html>
<html lang="en">
<head><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layer 2 Enhanced DDNS System Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --tertiary-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --panel-bg: #ffffff;
            --hover-color: #f7f9fa;
            --border-color: #dcdfe6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--dark-color);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo span {
            color: var(--secondary-color);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        nav a.active {
            background-color: var(--primary-color);
        }

        .tab-container {
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            background-color: var(--panel-bg);
            border-radius: 8px 8px 0 0;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 500;
        }

        .tab:hover {
            background-color: var(--hover-color);
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
            background-color: var(--panel-bg);
            padding: 25px;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background-color: var(--panel-bg);
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 500;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #27ae60;
        }

        .btn-tertiary {
            background-color: var(--tertiary-color);
        }

        .btn-tertiary:hover {
            background-color: #c0392b;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        .result-panel {
            margin-top: 20px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 15px;
            background-color: var(--light-color);
            display: none;
        }

        .result-panel.show {
            display: block;
        }

        .result-title {
            font-weight: 500;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .result-content {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }

        .stats-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .stat-card {
            flex: 1;
            min-width: 200px;
            background-color: var(--panel-bg);
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .primary {
            color: var(--primary-color);
        }

        .secondary {
            color: var(--secondary-color);
        }

        .tertiary {
            color: var(--tertiary-color);
        }

        .chart-container {
            height: 400px;
            margin-top: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--light-color);
            font-weight: 500;
        }

        tr:hover {
            background-color: var(--hover-color);
        }

        .tag {
            display: inline-block;
            padding: 4px 8px;
            font-size: 0.8rem;
            border-radius: 4px;
            color: white;
        }

        .tag-l1 {
            background-color: var(--tertiary-color);
        }

        .tag-l2 {
            background-color: var(--secondary-color);
        }

        .tag-cache {
            background-color: var(--primary-color);
        }

        .performance-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
        }

        .performance-indicator.good {
            color: var(--secondary-color);
        }

        .performance-indicator.medium {
            color: #f39c12;
        }

        .performance-indicator.poor {
            color: var(--tertiary-color);
        }

        .checkbox-group {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .two-columns {
                grid-template-columns: 1fr;
            }

            .stats-row {
                flex-direction: column;
            }

            header .container {
                flex-direction: column;
                gap: 15px;
            }

            nav ul {
                justify-content: center;
            }
        }

        /* Timeline */
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 20px auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--light-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: white;
            border: 4px solid var(--primary-color);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-item.left {
            left: 0;
        }

        .timeline-item.right {
            left: 50%;
        }

        .timeline-item.right::after {
            left: -10px;
        }

        .timeline-item.left::before {
            content: '';
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid white;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }

        .timeline-item.right::before {
            content: '';
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid white;
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }

        .timeline-item.l1::after {
            background-color: var(--tertiary-color);
        }

        .timeline-item.l2::after {
            background-color: var(--secondary-color);
        }

        .timeline-item.bridge::after {
            background-color: var(--primary-color);
        }

        .timeline-content {
            padding: 20px;
            background-color: white;
            position: relative;
            border-radius: 6px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .timeline-time {
            font-weight: 700;
            color: var(--primary-color);
        }

        @media screen and (max-width: 768px) {
            .timeline::after {
                left: 31px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }

            .timeline-item.right {
                left: 0%;
            }

            .timeline-item.left::before, .timeline-item.right::before {
                left: 60px;
                border-width: 10px 10px 10px 0;
                border-color: transparent white transparent transparent;
            }

            .timeline-item.left::after, .timeline-item.right::after {
                left: 18px;
                right: auto;
            }
        }

        /* Loading animation */
        .loader {
            display: none;
            width: 48px;
            height: 48px;
            border: 5px solid var(--light-color);
            border-bottom-color: var(--primary-color);
            border-radius: 50%;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading .loader {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <i class="fas fa-layer-group fa-2x"></i>
                <h1>Layer 2 Enhanced <span>DDNS</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active">Demo</a></li>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">Source Code</a></li>
                    <li><a href="#">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-tab="resolver">Domain Resolver</div>
                <div class="tab" data-tab="register">Domain Registration</div>
                <div class="tab" data-tab="manage">Domain Management</div>
                <div class="tab" data-tab="performance">Performance Analysis</div>
                <div class="tab" data-tab="architecture">System Architecture</div>
            </div>

            <!-- Domain Resolver Tab -->
            <div class="tab-content active" id="resolver-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-search"></i> Resolve Domain</h2>
                    <form id="resolve-form">
                        <div class="form-group">
                            <label for="domain-name">Domain Name</label>
                            <input type="text" id="domain-name" placeholder="example.eth" value="example.eth">
                        </div>
                        <div class="form-group">
                            <label for="record-type">Record Type</label>
                            <select id="record-type">
                                <option value="A">A (IPv4 Address)</option>
                                <option value="AAAA">AAAA (IPv6 Address)</option>
                                <option value="TXT">TXT (Text Record)</option>
                                <option value="MX">MX (Mail Exchange)</option>
                            </select>
                        </div>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="force-l1" name="force-l1">
                                <label for="force-l1">Force Layer 1 (Slower but Authoritative)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="force-l2" name="force-l2" checked>
                                <label for="force-l2">Prefer Layer 2 (Faster)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="skip-cache" name="skip-cache">
                                <label for="skip-cache">Skip Cache</label>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button type="submit" class="btn">Resolve Domain</button>
                            <button type="button" class="btn btn-secondary" id="batch-resolve-btn">Batch Resolve</button>
                            <button type="button" class="btn btn-tertiary" id="compare-btn">Compare L1 vs L2</button>
                        </div>
                    </form>
                    <div class="loader"></div>
                    <div class="result-panel" id="resolve-result">
                        <h3 class="result-title">Resolution Result</h3>
                        <div class="result-content" id="result-content"></div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-history"></i> Recent Resolutions</h2>
                    <table id="recent-resolutions">
                        <thead>
                            <tr>
                                <th>Domain</th>
                                <th>Record Type</th>
                                <th>Value</th>
                                <th>Source</th>
                                <th>Latency</th>
                                <th>Timestamp</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Will be populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Domain Registration Tab -->
            <div class="tab-content" id="register-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-plus-circle"></i> Register New Domain</h2>
                    <form id="register-form">
                        <div class="form-group">
                            <label for="new-domain">Domain Name</label>
                            <input type="text" id="new-domain" placeholder="mynewdomain.eth">
                        </div>
                        <div class="form-group">
                            <label for="registration-period">Registration Period</label>
                            <select id="registration-period">
                                <option value="1">1 Year (0.01 ETH)</option>
                                <option value="2">2 Years (0.018 ETH)</option>
                                <option value="5">5 Years (0.04 ETH)</option>
                                <option value="10">10 Years (0.07 ETH)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">Register Domain</button>
                    </form>
                    <div class="loader"></div>
                    <div class="result-panel" id="register-result">
                        <h3 class="result-title">Registration Result</h3>
                        <div class="result-content" id="register-content"></div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-info-circle"></i> Registration Process</h2>
                    <div class="timeline">
                        <div class="timeline-item left l1">
                            <div class="timeline-content">
                                <h3>Layer 1 Registration</h3>
                                <p>Domain ownership and metadata are recorded on Ethereum Layer 1.</p>
                                <p class="timeline-time">Time: ~15 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item right bridge">
                            <div class="timeline-content">
                                <h3>Bridge Synchronization</h3>
                                <p>Bridge service detects the registration event and prepares data for L2.</p>
                                <p class="timeline-time">Time: ~30 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item left l2">
                            <div class="timeline-content">
                                <h3>Layer 2 Record Creation</h3>
                                <p>DNS records are stored on Layer 2 for high-performance resolution.</p>
                                <p class="timeline-time">Time: ~5 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item right bridge">
                            <div class="timeline-content">
                                <h3>IPFS Record Storage</h3>
                                <p>Complete DNS records are stored on IPFS with content hash in L1.</p>
                                <p class="timeline-time">Time: ~10 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item left l1">
                            <div class="timeline-content">
                                <h3>Process Complete</h3>
                                <p>Domain is fully registered and available for resolution.</p>
                                <p class="timeline-time">Total Time: ~60 seconds</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Domain Management Tab -->
            <div class="tab-content" id="manage-tab">
                <div class="two-columns">
                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-cog"></i> Manage Domain Records</h2>
                        <form id="manage-form">
                            <div class="form-group">
                                <label for="manage-domain">Select Domain</label>
                                <select id="manage-domain">
                                    <option value="example.eth">example.eth</option>
                                    <option value="mydomain.eth">mydomain.eth</option>
                                    <option value="test.eth">test.eth</option>
                                    <option value="blockchain.eth">blockchain.eth</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="a-record">A Record (IPv4)</label>
                                <input type="text" id="a-record" placeholder="192.168.1.1" value="192.168.1.1">
                            </div>
                            <div class="form-group">
                                <label for="aaaa-record">AAAA Record (IPv6)</label>
                                <input type="text" id="aaaa-record" placeholder="2001:db8::1" value="2001:db8::1">
                            </div>
                            <div class="form-group">
                                <label for="txt-record">TXT Record</label>
                                <input type="text" id="txt-record" placeholder="Text record" value="verification=abc123">
                            </div>
                            <div class="form-group">
                                <label for="mx-record">MX Record</label>
                                <input type="text" id="mx-record" placeholder="mail.example.com" value="mail.example.eth">
                            </div>
                            <button type="submit" class="btn">Update Records</button>
                        </form>
                        <div class="loader"></div>
                        <div class="result-panel" id="manage-result">
                            <h3 class="result-title">Update Result</h3>
                            <div class="result-content" id="manage-content"></div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-list"></i> Your Domains</h2>
                        <table id="user-domains">
                            <thead>
                                <tr>
                                    <th>Domain</th>
                                    <th>Expiry Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>example.eth</td>
                                    <td>2026-05-21</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>mydomain.eth</td>
                                    <td>2026-12-15</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>test.eth</td>
                                    <td>2025-08-03</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>blockchain.eth</td>
                                    <td>2025-11-30</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Performance Analysis Tab -->
            <div class="tab-content" id="performance-tab">
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-label">Layer 2 Avg. Latency</div>
                        <div class="stat-value secondary">48 ms</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-check-circle"></i> Excellent
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Layer 1 Avg. Latency</div>
                        <div class="stat-value tertiary">850 ms</div>
                        <div class="performance-indicator medium">
                            <i class="fas fa-exclamation-circle"></i> Moderate
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Performance Improvement</div>
                        <div class="stat-value primary">17.7x</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-bolt"></i> Significant
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Cache Hit Ratio</div>
                        <div class="stat-value secondary">78%</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-check-circle"></i> Excellent
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-chart-line"></i> Latency Comparison</h2>
                    <div class="chart-container">
                        <canvas id="latencyChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-chart-bar"></i> Throughput Under Load</h2>
                    <div class="chart-container">
                        <canvas id="throughputChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-dollar-sign"></i> Cost Analysis</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Operation</th>
                                <th>Layer 1 Cost (Gas)</th>
                                <th>Layer 2 Cost (Gas)</th>
                                <th>Savings</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Domain Registration</td>
                                <td>120,000</td>
                                <td>120,000</td>
                                <td>0%</td>
                            </tr>
                            <tr>
                                <td>Record Update</td>
                                <td>80,000</td>
                                <td>80,000</td>
                                <td>0%</td>
                            </tr>
                            <tr>
                                <td>Record Resolution</td>
                                <td>30,000</td>
                                <td>2,000</td>
                                <td>93%</td>
                            </tr>
                            <tr>
                                <td>Batch Resolution</td>
                                <td>90,000</td>
                                <td>3,500</td>
                                <td>96%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- System Architecture Tab -->
            <div class="tab-content" id="architecture-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-project-diagram"></i> System Architecture</h2>
                    <div style="text-align: center; margin: 20px 0;">
                        <img src="https://via.placeholder.com/800x500?text=Layer+2+Enhanced+DDNS+Architecture" alt="System Architecture Diagram" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-cogs"></i> Component Details</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Description</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Layer 1 Registry</td>
                                <td>Stores domain ownership and metadata on Ethereum mainnet</td>
                                <td>Solidity, Ethereum</td>
                            </tr>
                            <tr>
                                <td>Layer 2 Resolver</td>
                                <td>Provides high-performance DNS record resolution</td>
                                <td>Solidity, Optimism</td>
                            </tr>
                            <tr>
                                <td>Bridge Service</td>
                                <td>Synchronizes data between L1 and L2</td>
                                <td>Node.js, ethers.js</td>
                            </tr>
                            <tr>
                                <td>Client Adapter</td>
                                <td>Intelligently routes resolution requests</td>
                                <td>JavaScript, ethers.js</td>
                            </tr>
                            <tr>
                                <td>Off-chain Storage</td>
                                <td>Stores complete DNS records</td>
                                <td>IPFS</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="two-columns">
                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-shield-alt"></i> Security Model</h2>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: 10px;">
                                <strong>Layer 1 Ownership Verification:</strong> Domain ownership is secured by Ethereum's consensus mechanism
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Fraud Proof System:</strong> Layer 2 resolutions can be challenged with fraud proofs
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Content Hashing:</strong> Complete records are hashed and stored on Layer 1 for verification
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Multi-Source Verification:</strong> Clients can verify critical resolutions with multiple sources
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Fallback Resolution:</strong> Automatic fallback to Layer 1 if Layer 2 fails
                            </li>
                        </ul>
                    </div>

                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-tachometer-alt"></i> Performance Optimizations</h2>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: 10px;">
                                <strong>Multi-level Caching:</strong> Client, L2, and gateway caching for speed
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Batch Processing:</strong> Multiple records resolved in a single request
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Optimistic Resolution:</strong> Assume L2 data is correct, verify only when needed
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Parallel Queries:</strong> Query L1 and L2 in parallel when verification is required
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Adaptive Resolution:</strong> Dynamically choose resolution path based on performance metrics
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');

                    // Hide all tab contents
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });

                    // Show the clicked tab content
                    const tabId = tab.getAttribute('data-tab') + '-tab';
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Mock data for recent resolutions
            const mockResolutions = [
                { domain: 'example.eth', type: 'A', value: '192.168.1.1', source: 'l2', latency: 48, timestamp: '2025-05-21 14:32:15' },
                { domain: 'mydomain.eth', type: 'A', value: '192.168.1.2', source: 'cache', latency: 3, timestamp: '2025-05-21 14:30:22' },
                { domain: 'test.eth', type: 'AAAA', value: '2001:db8::2', source: 'l2', latency: 52, timestamp: '2025-05-21 14:28:47' },
                { domain: 'blockchain.eth', type: 'TXT', value: 'verification=xyz789', source: 'l1', latency: 843, timestamp: '2025-05-21 14:25:33' },
                { domain: 'example.eth', type: 'MX', value: 'mail.example.eth', source: 'l2', latency: 50, timestamp: '2025-05-21 14:20:12' }
            ];

            // Populate recent resolutions table
            const resolutionsTable = document.querySelector('#recent-resolutions tbody');
            mockResolutions.forEach(resolution => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${resolution.domain}</td>
                    <td>${resolution.type}</td>
                    <td>${resolution.value}</td>
                    <td><span class="tag tag-${resolution.source}">${resolution.source.toUpperCase()}</span></td>
                    <td>${resolution.latency} ms</td>
                    <td>${resolution.timestamp}</td>
                `;
                resolutionsTable.appendChild(row);
            });

            // Domain resolution form handling
            const resolveForm = document.getElementById('resolve-form');
            resolveForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('domain-name').value;
                const recordType = document.getElementById('record-type').value;
                const forceL1 = document.getElementById('force-l1').checked;
                const forceL2 = document.getElementById('force-l2').checked;
                const skipCache = document.getElementById('skip-cache').checked;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock result based on inputs
                    let result;
                    let source;
                    let latency;

                    if (forceL1) {
                        source = 'l1';
                        latency = 800 + Math.floor(Math.random() * 100);
                    } else if (skipCache) {
                        source = 'l2';
                        latency = 40 + Math.floor(Math.random() * 20);
                    } else if (!skipCache && Math.random() > 0.7) {
                        source = 'cache';
                        latency = 1 + Math.floor(Math.random() * 5);
                    } else {
                        source = 'l2';
                        latency = 40 + Math.floor(Math.random() * 20);
                    }

                    // Generate mock value based on record type
                    let value;
                    switch (recordType) {
                        case 'A':
                            value = '192.168.1.' + Math.floor(Math.random() * 255);
                            break;
                        case 'AAAA':
                            value = '2001:db8::' + Math.floor(Math.random() * 9999);
                            break;
                        case 'TXT':
                            value = 'verification=' + Math.random().toString(36).substring(2, 8);
                            break;
                        case 'MX':
                            value = '10 mail.' + domainName;
                            break;
                    }

                    result = {
                        domain: domainName,
                        recordType: recordType,
                        value: value,
                        ttl: 3600,
                        source: source,
                        latency: latency,
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');

                    // Add to recent resolutions
                    const now = new Date();
                    const formattedTime = now.getFullYear() + '-' +
                                       String(now.getMonth() + 1).padStart(2, '0') + '-' +
                                       String(now.getDate()).padStart(2, '0') + ' ' +
                                       String(now.getHours()).padStart(2, '0') + ':' +
                                       String(now.getMinutes()).padStart(2, '0') + ':' +
                                       String(now.getSeconds()).padStart(2, '0');

                    const newRow = document.createElement('tr');
                    newRow.innerHTML = `
                        <td>${domainName}</td>
                        <td>${recordType}</td>
                        <td>${value}</td>
                        <td><span class="tag tag-${source}">${source.toUpperCase()}</span></td>
                        <td>${latency} ms</td>
                        <td>${formattedTime}</td>
                    `;

                    // Add at the top
                    resolutionsTable.insertBefore(newRow, resolutionsTable.firstChild);

                    // Remove last row if there are more than 5
                    if (resolutionsTable.childElementCount > 5) {
                        resolutionsTable.removeChild(resolutionsTable.lastChild);
                    }

                }, 800);
            });

            // Batch resolve button
            document.getElementById('batch-resolve-btn').addEventListener('click', function() {
                const domainName = document.getElementById('domain-name').value;
                const forceL1 = document.getElementById('force-l1').checked;
                const forceL2 = document.getElementById('force-l2').checked;
                const skipCache = document.getElementById('skip-cache').checked;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock batch result
                    let source;
                    let latency;

                    if (forceL1) {
                        source = 'l1';
                        latency = 1200 + Math.floor(Math.random() * 200);
                    } else if (skipCache) {
                        source = 'l2';
                        latency = 80 + Math.floor(Math.random() * 40);
                    } else if (!skipCache && Math.random() > 0.7) {
                        source = 'cache';
                        latency = 2 + Math.floor(Math.random() * 8);
                    } else {
                        source = 'l2';
                        latency = 80 + Math.floor(Math.random() * 40);
                    }

                    const result = {
                        domain: domainName,
                        records: {
                            A: '192.168.1.' + Math.floor(Math.random() * 255),
                            AAAA: '2001:db8::' + Math.floor(Math.random() * 9999),
                            TXT: 'verification=' + Math.random().toString(36).substring(2, 8),
                            MX: '10 mail.' + domainName
                        },
                        ttl: 3600,
                        source: source,
                        latency: latency,
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 1200);
            });

            // Compare button
            document.getElementById('compare-btn').addEventListener('click', function() {
                const domainName = document.getElementById('domain-name').value;
                const recordType = document.getElementById('record-type').value;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock comparison result
                    const l1Latency = 800 + Math.floor(Math.random() * 100);
                    const l2Latency = 40 + Math.floor(Math.random() * 20);
                    const speedup = (l1Latency / l2Latency).toFixed(2);

                    // Generate mock value based on record type
                    let value;
                    switch (recordType) {
                        case 'A':
                            value = '192.168.1.' + Math.floor(Math.random() * 255);
                            break;
                        case 'AAAA':
                            value = '2001:db8::' + Math.floor(Math.random() * 9999);
                            break;
                        case 'TXT':
                            value = 'verification=' + Math.random().toString(36).substring(2, 8);
                            break;
                        case 'MX':
                            value = '10 mail.' + domainName;
                            break;
                    }

                    const result = {
                        domain: domainName,
                        recordType: recordType,
                        value: value,
                        ttl: 3600,
                        comparison: {
                            layer1: {
                                latency: l1Latency,
                                source: 'Ethereum Mainnet',
                                gasUsed: 30000
                            },
                            layer2: {
                                latency: l2Latency,
                                source: 'Optimism',
                                gasUsed: 2000
                            },
                            speedup: speedup + 'x',
                            gasSavings: '93%'
                        },
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 1500);
            });

            // Domain registration form handling
            const registerForm = document.getElementById('register-form');
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('new-domain').value;
                const period = document.getElementById('registration-period').value;

                // Show loading animation
                registerForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    registerForm.parentElement.classList.remove('loading');

                    // Generate mock result
                    const expiryDate = new Date();
                    expiryDate.setFullYear(expiryDate.getFullYear() + parseInt(period));

                    const txHash = '0x' + Math.random().toString(16).substring(2, 62);

                    const result = {
                        domain: domainName,
                        owner: '0x' + Math.random().toString(16).substring(2, 42),
                        registrationDate: new Date().toISOString(),
                        expiryDate: expiryDate.toISOString(),
                        transactionHash: txHash,
                        status: 'SUCCESS',
                        network: 'Ethereum Sepolia Testnet'
                    };

                    // Display result
                    const resultPanel = document.getElementById('register-result');
                    const resultContent = document.getElementById('register-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 2000);
            });

            // Domain management form handling
            const manageForm = document.getElementById('manage-form');
            manageForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('manage-domain').value;
                const aRecord = document.getElementById('a-record').value;
                const aaaaRecord = document.getElementById('aaaa-record').value;
                const txtRecord = document.getElementById('txt-record').value;
                const mxRecord = document.getElementById('mx-record').value;

                // Show loading animation
                manageForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    manageForm.parentElement.classList.remove('loading');

                    // Generate mock result
                    const contentHash = '0x' + Math.random().toString(16).substring(2, 62);
                    const txHash = '0x' + Math.random().toString(16).substring(2, 62);

                    const result = {
                        domain: domainName,
                        contentHash: contentHash,
                        records: {
                            A: aRecord,
                            AAAA: aaaaRecord,
                            TXT: txtRecord,
                            MX: mxRecord
                        },
                        l1Transaction: {
                            hash: txHash,
                            status: 'CONFIRMED',
                            gasUsed: 80000,
                            network: 'Ethereum Sepolia Testnet'
                        },
                        l2Sync: {
                            status: 'COMPLETED',
                            timestamp: new Date().toISOString(),
                            network: 'Optimism Goerli Testnet'
                        }
                    };

                    // Display result
                    const resultPanel = document.getElementById('manage-result');
                    const resultContent = document.getElementById('manage-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 3000);
            });

            // Latency comparison chart
            const latencyCtx = document.getElementById('latencyChart').getContext('2d');
            const latencyChart = new Chart(latencyCtx, {
                type: 'bar',
                data: {
                    labels: ['Traditional DNS', 'Layer 2 DDNS', 'ENS (Layer 1)', 'Handshake'],
                    datasets: [{
                        label: 'Resolution Latency (ms)',
                        data: [45, 48, 850, 1200],
                        backgroundColor: [
                            'rgba(189, 195, 199, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(231, 76, 60, 0.7)'
                        ],
                        borderColor: [
                            'rgba(189, 195, 199, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(52, 152, 219, 1)',
                            'rgba(231, 76, 60, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            type: 'logarithmic',
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Latency (ms) - Log Scale'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'DNS System'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Latency: ${context.raw} ms`;
                                }
                            }
                        }
                    }
                }
            });

            // Throughput chart
            const throughputCtx = document.getElementById('throughputChart').getContext('2d');
            const throughputChart = new Chart(throughputCtx, {
                type: 'line',
                data: {
                    labels: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],
                    datasets: [
                        {
                            label: 'Layer 2 DDNS',
                            data: [600, 598, 595, 590, 585, 580, 570, 550, 500, 430, 350],
                            borderColor: 'rgba(46, 204, 113, 1)',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Traditional ENS (Layer 1)',
                            data: [100, 95, 85, 75, 65, 55, 45, 35, 25, 15, 5],
                            borderColor: 'rgba(52, 152, 219, 1)',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Traditional DNS',
                            data: [750, 748, 745, 742, 740, 738, 735, 730, 725, 720, 710],
                            borderColor: 'rgba(189, 195, 199, 1)',
                            backgroundColor: 'rgba(189, 195, 199, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Throughput (queries per second)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Query Load (queries per second)'
                            }
                        }
                    },
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layer 2 Enhanced DDNS System Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --tertiary-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --panel-bg: #ffffff;
            --hover-color: #f7f9fa;
            --border-color: #dcdfe6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--dark-color);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo span {
            color: var(--secondary-color);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        nav a.active {
            background-color: var(--primary-color);
        }

        .tab-container {
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            background-color: var(--panel-bg);
            border-radius: 8px 8px 0 0;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 500;
        }

        .tab:hover {
            background-color: var(--hover-color);
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
            background-color: var(--panel-bg);
            padding: 25px;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background-color: var(--panel-bg);
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 500;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #27ae60;
        }

        .btn-tertiary {
            background-color: var(--tertiary-color);
        }

        .btn-tertiary:hover {
            background-color: #c0392b;
        }

        .btn-group {
            display: flex;
            gap: 10px;
        }

        .result-panel {
            margin-top: 20px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 15px;
            background-color: var(--light-color);
            display: none;
        }

        .result-panel.show {
            display: block;
        }

        .result-title {
            font-weight: 500;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .result-content {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }

        .stats-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .stat-card {
            flex: 1;
            min-width: 200px;
            background-color: var(--panel-bg);
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .primary {
            color: var(--primary-color);
        }

        .secondary {
            color: var(--secondary-color);
        }

        .tertiary {
            color: var(--tertiary-color);
        }

        .chart-container {
            height: 400px;
            margin-top: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--light-color);
            font-weight: 500;
        }

        tr:hover {
            background-color: var(--hover-color);
        }

        .tag {
            display: inline-block;
            padding: 4px 8px;
            font-size: 0.8rem;
            border-radius: 4px;
            color: white;
        }

        .tag-l1 {
            background-color: var(--tertiary-color);
        }

        .tag-l2 {
            background-color: var(--secondary-color);
        }

        .tag-cache {
            background-color: var(--primary-color);
        }

        .performance-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
        }

        .performance-indicator.good {
            color: var(--secondary-color);
        }

        .performance-indicator.medium {
            color: #f39c12;
        }

        .performance-indicator.poor {
            color: var(--tertiary-color);
        }

        .checkbox-group {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .two-columns {
                grid-template-columns: 1fr;
            }

            .stats-row {
                flex-direction: column;
            }

            header .container {
                flex-direction: column;
                gap: 15px;
            }

            nav ul {
                justify-content: center;
            }
        }

        /* Timeline */
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 20px auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--light-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: white;
            border: 4px solid var(--primary-color);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-item.left {
            left: 0;
        }

        .timeline-item.right {
            left: 50%;
        }

        .timeline-item.right::after {
            left: -10px;
        }

        .timeline-item.left::before {
            content: '';
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid white;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }

        .timeline-item.right::before {
            content: '';
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid white;
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }

        .timeline-item.l1::after {
            background-color: var(--tertiary-color);
        }

        .timeline-item.l2::after {
            background-color: var(--secondary-color);
        }

        .timeline-item.bridge::after {
            background-color: var(--primary-color);
        }

        .timeline-content {
            padding: 20px;
            background-color: white;
            position: relative;
            border-radius: 6px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .timeline-time {
            font-weight: 700;
            color: var(--primary-color);
        }

        @media screen and (max-width: 768px) {
            .timeline::after {
                left: 31px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }

            .timeline-item.right {
                left: 0%;
            }

            .timeline-item.left::before, .timeline-item.right::before {
                left: 60px;
                border-width: 10px 10px 10px 0;
                border-color: transparent white transparent transparent;
            }

            .timeline-item.left::after, .timeline-item.right::after {
                left: 18px;
                right: auto;
            }
        }

        /* Loading animation */
        .loader {
            display: none;
            width: 48px;
            height: 48px;
            border: 5px solid var(--light-color);
            border-bottom-color: var(--primary-color);
            border-radius: 50%;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading .loader {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <i class="fas fa-layer-group fa-2x"></i>
                <h1>Layer 2 Enhanced <span>DDNS</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active">Demo</a></li>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">Source Code</a></li>
                    <li><a href="#">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-tab="resolver">Domain Resolver</div>
                <div class="tab" data-tab="register">Domain Registration</div>
                <div class="tab" data-tab="manage">Domain Management</div>
                <div class="tab" data-tab="performance">Performance Analysis</div>
                <div class="tab" data-tab="architecture">System Architecture</div>
            </div>

            <!-- Domain Resolver Tab -->
            <div class="tab-content active" id="resolver-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-search"></i> Resolve Domain</h2>
                    <form id="resolve-form">
                        <div class="form-group">
                            <label for="domain-name">Domain Name</label>
                            <input type="text" id="domain-name" placeholder="example.eth" value="example.eth">
                        </div>
                        <div class="form-group">
                            <label for="record-type">Record Type</label>
                            <select id="record-type">
                                <option value="A">A (IPv4 Address)</option>
                                <option value="AAAA">AAAA (IPv6 Address)</option>
                                <option value="TXT">TXT (Text Record)</option>
                                <option value="MX">MX (Mail Exchange)</option>
                            </select>
                        </div>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="force-l1" name="force-l1">
                                <label for="force-l1">Force Layer 1 (Slower but Authoritative)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="force-l2" name="force-l2" checked>
                                <label for="force-l2">Prefer Layer 2 (Faster)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="skip-cache" name="skip-cache">
                                <label for="skip-cache">Skip Cache</label>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button type="submit" class="btn">Resolve Domain</button>
                            <button type="button" class="btn btn-secondary" id="batch-resolve-btn">Batch Resolve</button>
                            <button type="button" class="btn btn-tertiary" id="compare-btn">Compare L1 vs L2</button>
                        </div>
                    </form>
                    <div class="loader"></div>
                    <div class="result-panel" id="resolve-result">
                        <h3 class="result-title">Resolution Result</h3>
                        <div class="result-content" id="result-content"></div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-history"></i> Recent Resolutions</h2>
                    <table id="recent-resolutions">
                        <thead>
                            <tr>
                                <th>Domain</th>
                                <th>Record Type</th>
                                <th>Value</th>
                                <th>Source</th>
                                <th>Latency</th>
                                <th>Timestamp</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Will be populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Domain Registration Tab -->
            <div class="tab-content" id="register-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-plus-circle"></i> Register New Domain</h2>
                    <form id="register-form">
                        <div class="form-group">
                            <label for="new-domain">Domain Name</label>
                            <input type="text" id="new-domain" placeholder="mynewdomain.eth">
                        </div>
                        <div class="form-group">
                            <label for="registration-period">Registration Period</label>
                            <select id="registration-period">
                                <option value="1">1 Year (0.01 ETH)</option>
                                <option value="2">2 Years (0.018 ETH)</option>
                                <option value="5">5 Years (0.04 ETH)</option>
                                <option value="10">10 Years (0.07 ETH)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">Register Domain</button>
                    </form>
                    <div class="loader"></div>
                    <div class="result-panel" id="register-result">
                        <h3 class="result-title">Registration Result</h3>
                        <div class="result-content" id="register-content"></div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-info-circle"></i> Registration Process</h2>
                    <div class="timeline">
                        <div class="timeline-item left l1">
                            <div class="timeline-content">
                                <h3>Layer 1 Registration</h3>
                                <p>Domain ownership and metadata are recorded on Ethereum Layer 1.</p>
                                <p class="timeline-time">Time: ~15 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item right bridge">
                            <div class="timeline-content">
                                <h3>Bridge Synchronization</h3>
                                <p>Bridge service detects the registration event and prepares data for L2.</p>
                                <p class="timeline-time">Time: ~30 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item left l2">
                            <div class="timeline-content">
                                <h3>Layer 2 Record Creation</h3>
                                <p>DNS records are stored on Layer 2 for high-performance resolution.</p>
                                <p class="timeline-time">Time: ~5 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item right bridge">
                            <div class="timeline-content">
                                <h3>IPFS Record Storage</h3>
                                <p>Complete DNS records are stored on IPFS with content hash in L1.</p>
                                <p class="timeline-time">Time: ~10 seconds</p>
                            </div>
                        </div>
                        <div class="timeline-item left l1">
                            <div class="timeline-content">
                                <h3>Process Complete</h3>
                                <p>Domain is fully registered and available for resolution.</p>
                                <p class="timeline-time">Total Time: ~60 seconds</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Domain Management Tab -->
            <div class="tab-content" id="manage-tab">
                <div class="two-columns">
                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-cog"></i> Manage Domain Records</h2>
                        <form id="manage-form">
                            <div class="form-group">
                                <label for="manage-domain">Select Domain</label>
                                <select id="manage-domain">
                                    <option value="example.eth">example.eth</option>
                                    <option value="mydomain.eth">mydomain.eth</option>
                                    <option value="test.eth">test.eth</option>
                                    <option value="blockchain.eth">blockchain.eth</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="a-record">A Record (IPv4)</label>
                                <input type="text" id="a-record" placeholder="192.168.1.1" value="192.168.1.1">
                            </div>
                            <div class="form-group">
                                <label for="aaaa-record">AAAA Record (IPv6)</label>
                                <input type="text" id="aaaa-record" placeholder="2001:db8::1" value="2001:db8::1">
                            </div>
                            <div class="form-group">
                                <label for="txt-record">TXT Record</label>
                                <input type="text" id="txt-record" placeholder="Text record" value="verification=abc123">
                            </div>
                            <div class="form-group">
                                <label for="mx-record">MX Record</label>
                                <input type="text" id="mx-record" placeholder="mail.example.com" value="mail.example.eth">
                            </div>
                            <button type="submit" class="btn">Update Records</button>
                        </form>
                        <div class="loader"></div>
                        <div class="result-panel" id="manage-result">
                            <h3 class="result-title">Update Result</h3>
                            <div class="result-content" id="manage-content"></div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-list"></i> Your Domains</h2>
                        <table id="user-domains">
                            <thead>
                                <tr>
                                    <th>Domain</th>
                                    <th>Expiry Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>example.eth</td>
                                    <td>2026-05-21</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>mydomain.eth</td>
                                    <td>2026-12-15</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>test.eth</td>
                                    <td>2025-08-03</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>blockchain.eth</td>
                                    <td>2025-11-30</td>
                                    <td><span class="tag tag-l2">Active</span></td>
                                    <td>
                                        <button class="btn btn-secondary btn-sm">Renew</button>
                                        <button class="btn btn-tertiary btn-sm">Transfer</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Performance Analysis Tab -->
            <div class="tab-content" id="performance-tab">
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-label">Layer 2 Avg. Latency</div>
                        <div class="stat-value secondary">48 ms</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-check-circle"></i> Excellent
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Layer 1 Avg. Latency</div>
                        <div class="stat-value tertiary">850 ms</div>
                        <div class="performance-indicator medium">
                            <i class="fas fa-exclamation-circle"></i> Moderate
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Performance Improvement</div>
                        <div class="stat-value primary">17.7x</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-bolt"></i> Significant
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Cache Hit Ratio</div>
                        <div class="stat-value secondary">78%</div>
                        <div class="performance-indicator good">
                            <i class="fas fa-check-circle"></i> Excellent
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-chart-line"></i> Latency Comparison</h2>
                    <div class="chart-container">
                        <canvas id="latencyChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-chart-bar"></i> Throughput Under Load</h2>
                    <div class="chart-container">
                        <canvas id="throughputChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-dollar-sign"></i> Cost Analysis</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Operation</th>
                                <th>Layer 1 Cost (Gas)</th>
                                <th>Layer 2 Cost (Gas)</th>
                                <th>Savings</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Domain Registration</td>
                                <td>120,000</td>
                                <td>120,000</td>
                                <td>0%</td>
                            </tr>
                            <tr>
                                <td>Record Update</td>
                                <td>80,000</td>
                                <td>80,000</td>
                                <td>0%</td>
                            </tr>
                            <tr>
                                <td>Record Resolution</td>
                                <td>30,000</td>
                                <td>2,000</td>
                                <td>93%</td>
                            </tr>
                            <tr>
                                <td>Batch Resolution</td>
                                <td>90,000</td>
                                <td>3,500</td>
                                <td>96%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- System Architecture Tab -->
            <div class="tab-content" id="architecture-tab">
                <div class="card">
                    <h2 class="card-title"><i class="fas fa-project-diagram"></i> System Architecture</h2>
                    <div style="text-align: center; margin: 20px 0;">
                        <img src="architecture.png" alt="System Architecture Diagram" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title"><i class="fas fa-cogs"></i> Component Details</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Description</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Layer 1 Registry</td>
                                <td>Stores domain ownership and metadata on Ethereum mainnet</td>
                                <td>Solidity, Ethereum</td>
                            </tr>
                            <tr>
                                <td>Layer 2 Resolver</td>
                                <td>Provides high-performance DNS record resolution</td>
                                <td>Solidity, Optimism</td>
                            </tr>
                            <tr>
                                <td>Bridge Service</td>
                                <td>Synchronizes data between L1 and L2</td>
                                <td>Node.js, ethers.js</td>
                            </tr>
                            <tr>
                                <td>Client Adapter</td>
                                <td>Intelligently routes resolution requests</td>
                                <td>JavaScript, ethers.js</td>
                            </tr>
                            <tr>
                                <td>Off-chain Storage</td>
                                <td>Stores complete DNS records</td>
                                <td>IPFS</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="two-columns">
                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-shield-alt"></i> Security Model</h2>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: 10px;">
                                <strong>Layer 1 Ownership Verification:</strong> Domain ownership is secured by Ethereum's consensus mechanism
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Fraud Proof System:</strong> Layer 2 resolutions can be challenged with fraud proofs
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Content Hashing:</strong> Complete records are hashed and stored on Layer 1 for verification
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Multi-Source Verification:</strong> Clients can verify critical resolutions with multiple sources
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Fallback Resolution:</strong> Automatic fallback to Layer 1 if Layer 2 fails
                            </li>
                        </ul>
                    </div>

                    <div class="card">
                        <h2 class="card-title"><i class="fas fa-tachometer-alt"></i> Performance Optimizations</h2>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: 10px;">
                                <strong>Multi-level Caching:</strong> Client, L2, and gateway caching for speed
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Batch Processing:</strong> Multiple records resolved in a single request
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Optimistic Resolution:</strong> Assume L2 data is correct, verify only when needed
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Parallel Queries:</strong> Query L1 and L2 in parallel when verification is required
                            </li>
                            <li style="margin-bottom: 10px;">
                                <strong>Adaptive Resolution:</strong> Dynamically choose resolution path based on performance metrics
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');

                    // Hide all tab contents
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });

                    // Show the clicked tab content
                    const tabId = tab.getAttribute('data-tab') + '-tab';
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Mock data for recent resolutions
            const mockResolutions = [
                { domain: 'example.eth', type: 'A', value: '192.168.1.1', source: 'l2', latency: 48, timestamp: '2025-05-21 14:32:15' },
                { domain: 'mydomain.eth', type: 'A', value: '192.168.1.2', source: 'cache', latency: 3, timestamp: '2025-05-21 14:30:22' },
                { domain: 'test.eth', type: 'AAAA', value: '2001:db8::2', source: 'l2', latency: 52, timestamp: '2025-05-21 14:28:47' },
                { domain: 'blockchain.eth', type: 'TXT', value: 'verification=xyz789', source: 'l1', latency: 843, timestamp: '2025-05-21 14:25:33' },
                { domain: 'example.eth', type: 'MX', value: 'mail.example.eth', source: 'l2', latency: 50, timestamp: '2025-05-21 14:20:12' }
            ];

            // Populate recent resolutions table
            const resolutionsTable = document.querySelector('#recent-resolutions tbody');
            mockResolutions.forEach(resolution => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${resolution.domain}</td>
                    <td>${resolution.type}</td>
                    <td>${resolution.value}</td>
                    <td><span class="tag tag-${resolution.source}">${resolution.source.toUpperCase()}</span></td>
                    <td>${resolution.latency} ms</td>
                    <td>${resolution.timestamp}</td>
                `;
                resolutionsTable.appendChild(row);
            });

            // Domain resolution form handling
            const resolveForm = document.getElementById('resolve-form');
            resolveForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('domain-name').value;
                const recordType = document.getElementById('record-type').value;
                const forceL1 = document.getElementById('force-l1').checked;
                const forceL2 = document.getElementById('force-l2').checked;
                const skipCache = document.getElementById('skip-cache').checked;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock result based on inputs
                    let result;
                    let source;
                    let latency;

                    if (forceL1) {
                        source = 'l1';
                        latency = 800 + Math.floor(Math.random() * 100);
                    } else if (skipCache) {
                        source = 'l2';
                        latency = 40 + Math.floor(Math.random() * 20);
                    } else if (!skipCache && Math.random() > 0.7) {
                        source = 'cache';
                        latency = 1 + Math.floor(Math.random() * 5);
                    } else {
                        source = 'l2';
                        latency = 40 + Math.floor(Math.random() * 20);
                    }

                    // Generate mock value based on record type
                    let value;
                    switch (recordType) {
                        case 'A':
                            value = '192.168.1.' + Math.floor(Math.random() * 255);
                            break;
                        case 'AAAA':
                            value = '2001:db8::' + Math.floor(Math.random() * 9999);
                            break;
                        case 'TXT':
                            value = 'verification=' + Math.random().toString(36).substring(2, 8);
                            break;
                        case 'MX':
                            value = '10 mail.' + domainName;
                            break;
                    }

                    result = {
                        domain: domainName,
                        recordType: recordType,
                        value: value,
                        ttl: 3600,
                        source: source,
                        latency: latency,
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');

                    // Add to recent resolutions
                    const now = new Date();
                    const formattedTime = now.getFullYear() + '-' +
                                       String(now.getMonth() + 1).padStart(2, '0') + '-' +
                                       String(now.getDate()).padStart(2, '0') + ' ' +
                                       String(now.getHours()).padStart(2, '0') + ':' +
                                       String(now.getMinutes()).padStart(2, '0') + ':' +
                                       String(now.getSeconds()).padStart(2, '0');

                    const newRow = document.createElement('tr');
                    newRow.innerHTML = `
                        <td>${domainName}</td>
                        <td>${recordType}</td>
                        <td>${value}</td>
                        <td><span class="tag tag-${source}">${source.toUpperCase()}</span></td>
                        <td>${latency} ms</td>
                        <td>${formattedTime}</td>
                    `;

                    // Add at the top
                    resolutionsTable.insertBefore(newRow, resolutionsTable.firstChild);

                    // Remove last row if there are more than 5
                    if (resolutionsTable.childElementCount > 5) {
                        resolutionsTable.removeChild(resolutionsTable.lastChild);
                    }

                }, 800);
            });

            // Batch resolve button
            document.getElementById('batch-resolve-btn').addEventListener('click', function() {
                const domainName = document.getElementById('domain-name').value;
                const forceL1 = document.getElementById('force-l1').checked;
                const forceL2 = document.getElementById('force-l2').checked;
                const skipCache = document.getElementById('skip-cache').checked;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock batch result
                    let source;
                    let latency;

                    if (forceL1) {
                        source = 'l1';
                        latency = 1200 + Math.floor(Math.random() * 200);
                    } else if (skipCache) {
                        source = 'l2';
                        latency = 80 + Math.floor(Math.random() * 40);
                    } else if (!skipCache && Math.random() > 0.7) {
                        source = 'cache';
                        latency = 2 + Math.floor(Math.random() * 8);
                    } else {
                        source = 'l2';
                        latency = 80 + Math.floor(Math.random() * 40);
                    }

                    const result = {
                        domain: domainName,
                        records: {
                            A: '192.168.1.' + Math.floor(Math.random() * 255),
                            AAAA: '2001:db8::' + Math.floor(Math.random() * 9999),
                            TXT: 'verification=' + Math.random().toString(36).substring(2, 8),
                            MX: '10 mail.' + domainName
                        },
                        ttl: 3600,
                        source: source,
                        latency: latency,
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 1200);
            });

            // Compare button
            document.getElementById('compare-btn').addEventListener('click', function() {
                const domainName = document.getElementById('domain-name').value;
                const recordType = document.getElementById('record-type').value;

                // Show loading animation
                resolveForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    resolveForm.parentElement.classList.remove('loading');

                    // Generate mock comparison result
                    const l1Latency = 800 + Math.floor(Math.random() * 100);
                    const l2Latency = 40 + Math.floor(Math.random() * 20);
                    const speedup = (l1Latency / l2Latency).toFixed(2);

                    // Generate mock value based on record type
                    let value;
                    switch (recordType) {
                        case 'A':
                            value = '192.168.1.' + Math.floor(Math.random() * 255);
                            break;
                        case 'AAAA':
                            value = '2001:db8::' + Math.floor(Math.random() * 9999);
                            break;
                        case 'TXT':
                            value = 'verification=' + Math.random().toString(36).substring(2, 8);
                            break;
                        case 'MX':
                            value = '10 mail.' + domainName;
                            break;
                    }

                    const result = {
                        domain: domainName,
                        recordType: recordType,
                        value: value,
                        ttl: 3600,
                        comparison: {
                            layer1: {
                                latency: l1Latency,
                                source: 'Ethereum Mainnet',
                                gasUsed: 30000
                            },
                            layer2: {
                                latency: l2Latency,
                                source: 'Optimism',
                                gasUsed: 2000
                            },
                            speedup: speedup + 'x',
                            gasSavings: '93%'
                        },
                        timestamp: new Date().toISOString()
                    };

                    // Display result
                    const resultPanel = document.getElementById('resolve-result');
                    const resultContent = document.getElementById('result-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 1500);
            });

            // Domain registration form handling
            const registerForm = document.getElementById('register-form');
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('new-domain').value;
                const period = document.getElementById('registration-period').value;

                // Show loading animation
                registerForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    registerForm.parentElement.classList.remove('loading');

                    // Generate mock result
                    const expiryDate = new Date();
                    expiryDate.setFullYear(expiryDate.getFullYear() + parseInt(period));

                    const txHash = '0x' + Math.random().toString(16).substring(2, 62);

                    const result = {
                        domain: domainName,
                        owner: '0x' + Math.random().toString(16).substring(2, 42),
                        registrationDate: new Date().toISOString(),
                        expiryDate: expiryDate.toISOString(),
                        transactionHash: txHash,
                        status: 'SUCCESS',
                        network: 'Ethereum Sepolia Testnet'
                    };

                    // Display result
                    const resultPanel = document.getElementById('register-result');
                    const resultContent = document.getElementById('register-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 2000);
            });

            // Domain management form handling
            const manageForm = document.getElementById('manage-form');
            manageForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const domainName = document.getElementById('manage-domain').value;
                const aRecord = document.getElementById('a-record').value;
                const aaaaRecord = document.getElementById('aaaa-record').value;
                const txtRecord = document.getElementById('txt-record').value;
                const mxRecord = document.getElementById('mx-record').value;

                // Show loading animation
                manageForm.parentElement.classList.add('loading');

                // Simulate API call delay
                setTimeout(() => {
                    // Stop loading animation
                    manageForm.parentElement.classList.remove('loading');

                    // Generate mock result
                    const contentHash = '0x' + Math.random().toString(16).substring(2, 62);
                    const txHash = '0x' + Math.random().toString(16).substring(2, 62);

                    const result = {
                        domain: domainName,
                        contentHash: contentHash,
                        records: {
                            A: aRecord,
                            AAAA: aaaaRecord,
                            TXT: txtRecord,
                            MX: mxRecord
                        },
                        l1Transaction: {
                            hash: txHash,
                            status: 'CONFIRMED',
                            gasUsed: 80000,
                            network: 'Ethereum Sepolia Testnet'
                        },
                        l2Sync: {
                            status: 'COMPLETED',
                            timestamp: new Date().toISOString(),
                            network: 'Optimism Goerli Testnet'
                        }
                    };

                    // Display result
                    const resultPanel = document.getElementById('manage-result');
                    const resultContent = document.getElementById('manage-content');

                    resultContent.innerHTML = JSON.stringify(result, null, 2);
                    resultPanel.classList.add('show');
                }, 3000);
            });

            // Latency comparison chart
            const latencyCtx = document.getElementById('latencyChart').getContext('2d');
            const latencyChart = new Chart(latencyCtx, {
                type: 'bar',
                data: {
                    labels: ['Traditional DNS', 'Layer 2 DDNS', 'ENS (Layer 1)', 'Handshake'],
                    datasets: [{
                        label: 'Resolution Latency (ms)',
                        data: [45, 48, 850, 1200],
                        backgroundColor: [
                            'rgba(189, 195, 199, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(231, 76, 60, 0.7)'
                        ],
                        borderColor: [
                            'rgba(189, 195, 199, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(52, 152, 219, 1)',
                            'rgba(231, 76, 60, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            type: 'logarithmic',
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Latency (ms) - Log Scale'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'DNS System'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Latency: ${context.raw} ms`;
                                }
                            }
                        }
                    }
                }
            });

            // Throughput chart
            const throughputCtx = document.getElementById('throughputChart').getContext('2d');
            const throughputChart = new Chart(throughputCtx, {
                type: 'line',
                data: {
                    labels: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],
                    datasets: [
                        {
                            label: 'Layer 2 DDNS',
                            data: [600, 598, 595, 590, 585, 580, 570, 550, 500, 430, 350],
                            borderColor: 'rgba(46, 204, 113, 1)',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Traditional ENS (Layer 1)',
                            data: [100, 95, 85, 75, 65, 55, 45, 35, 25, 15, 5],
                            borderColor: 'rgba(52, 152, 219, 1)',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Traditional DNS',
                            data: [750, 748, 745, 742, 740, 738, 735, 730, 725, 720, 710],
                            borderColor: 'rgba(189, 195, 199, 1)',
                            backgroundColor: 'rgba(189, 195, 199, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Throughput (queries per second)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Query Load (queries per second)'
                            }
                        }
                    },
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>